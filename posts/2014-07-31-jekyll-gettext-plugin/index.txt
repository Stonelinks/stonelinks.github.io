3:I[9275,[],""]
5:I[1343,[],""]
6:I[8173,["30","static/chunks/30-05a526192e143cc7.js","333","static/chunks/app/posts/%5Bslug%5D/page-ec7b6e3c69ebdd52.js"],"Image"]
7:I[231,["30","static/chunks/30-05a526192e143cc7.js","333","static/chunks/app/posts/%5Bslug%5D/page-ec7b6e3c69ebdd52.js"],""]
4:["slug","2014-07-31-jekyll-gettext-plugin","d"]
0:["o_NpWiwkf0eVZo-xacprK",[[["",{"children":["posts",{"children":[["slug","2014-07-31-jekyll-gettext-plugin","d"],{"children":["__PAGE__?{\"slug\":\"2014-07-31-jekyll-gettext-plugin\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["posts",{"children":[["slug","2014-07-31-jekyll-gettext-plugin","d"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c857412b86ee8a27.css","precedence":"next","crossOrigin":"$undefined"}]]}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"en","children":["$","body",null,{"className":"__className_c99d77","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"className":"page_main__nw1Wk","children":[["$","div",null,{"className":"page_header__oRW75","children":[["$","$L6",null,{"src":"/icon.png","alt":"Logo","width":100,"height":100,"priority":true}],["$","div",null,{"className":"page_title-nav-container__yDV6g","children":[["$","h1",null,{"className":"page_hero-title__ISM_Q","children":"Stonelinks"}],["$","ul",null,{"className":"page_nav-list__BIYWj","children":[["$","li",null,{"children":["$","$L7",null,{"href":"/","children":"Home"}]}],["$","li",null,{"children":["$","$L7",null,{"href":"/posts","children":"Posts"}]}],["$","li",null,{"children":["$","$L7",null,{"href":"/projects","children":"Projects"}]}],["$","li",null,{"children":["$","$L7",null,{"href":"/luke","children":"About"}]}]]}]]}]]}],[["$","h1",null,{"children":"404 - Page Not Found"}],["$","p",null,{"children":"Sorry, that page does not exist."}]],["$","footer",null,{"children":["© Lucas Doyle ",2025]}]]}],"notFoundStyles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c857412b86ee8a27.css","precedence":"next","crossOrigin":"$undefined"}]],"styles":null}]}]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/4561a6c03121424a.css","precedence":"next","crossOrigin":"$undefined"}]],[null,"$L8"]]]]]
9:T984,<p><a href="https://github.com/Stonelinks/jekyll-gettext-plugin">https://github.com/Stonelinks/jekyll-gettext-plugin</a></p>
<p>As the friendly neighborhood web developer at MUJIN, one of my responsibilities is <a href="http://mujin.co.jp/">our company's website</a>. I made this site mostly by myself using <a href="http://jekyllrb.com/">jekyll</a>, the static website generator that github uses for github pages by default.</p>
<p>Jekyll is pretty awesome, but doesn't support internationalization which we obviously need as a Japanese company. I got something really simple working with <a href="https://github.com/screeninteraction/jekyll-multiple-languages-plugin">jekyll-multiple-languages-plugin</a>, but I wasn't happy with it. The translation index had to be manually kept which was a giant pain (especially since non-technical people edit content on the site).</p>
<p>As a long time django user, I really like the way it handles <a href="https://docs.djangoproject.com/en/dev/topics/i18n/">internationalization</a>, namely the fact that the translation index was automatically updated as people edited content in the standard gettext <code>.po</code> file format.</p>
<p>I endeavored to create such a solution for jekyll using ruby, something I was completely unfamiliar with. I learned some ruby basics, how <a href="https://rvm.io/">rvm</a> and <a href="https://rubygems.org/">RubyGems</a> work, and finally leveraged the existing libraries <a href="https://github.com/grosser/get_pomo">get_pomo</a> and <a href="https://github.com/grosser/fast_gettext">fast_gettext</a> which did a lot of the heavy lifting for me. You can read more about how to actually use my library over on <a href="https://github.com/Stonelinks/jekyll-gettext-plugin">github</a>.</p>
<p>I rounded out our internationalization solution by using the <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4">Accept-Language</a> header to redirect users to the website in their browser's language (but still be able to override it by going to specific language endpoints). Here is the section from <code>.htaccess</code>:</p>
<pre><code>RewriteEngine On

RewriteCond %{HTTP:Accept-Language} ^en.*$ [NC]
RewriteCond %{REQUEST_URI} ^/$ [NC]
RewriteCond %{QUERY_STRING} !(^q\=) [NC]
RewriteRule ^(.*)$ /en/ [L,R=302]

RewriteCond %{REQUEST_URI} ^/$ [NC]
RewriteCond %{QUERY_STRING} !(^q\=) [NC]
RewriteRule ^(.*)$ /ja [L,R=302]

</code></pre>2:["$","div",null,{"className":"page_main__nw1Wk","children":[["$","div",null,{"className":"page_header__oRW75","children":[["$","$L6",null,{"src":"/icon.png","alt":"Logo","width":100,"height":100,"priority":true}],["$","div",null,{"className":"page_title-nav-container__yDV6g","children":[["$","h1",null,{"className":"page_hero-title__ISM_Q","children":"Stonelinks"}],["$","ul",null,{"className":"page_nav-list__BIYWj","children":[["$","li",null,{"children":["$","$L7",null,{"href":"/","children":"Home"}]}],["$","li",null,{"children":["$","$L7",null,{"href":"/posts","children":"Posts"}]}],["$","li",null,{"children":["$","$L7",null,{"href":"/projects","children":"Projects"}]}],["$","li",null,{"children":["$","$L7",null,{"href":"/luke","children":"About"}]}]]}]]}]]}],["$","article",null,{"className":"post_post__6EpyE","children":[["$","h1",null,{"className":"post_title__Rgtqi","children":"Jekyll i18n"}],["$","p",null,{"className":"common_date__JU5vN","children":"July 31, 2014"}],"$undefined",["$","div",null,{"className":"TagList_tagList__ukBDA","children":[["$","$L7","0",{"className":"TagList_tag__225v4","href":"/tags/web%20development","children":"web development"}],["$","$L7","1",{"className":"TagList_tag__225v4","href":"/tags/ruby","children":"ruby"}],["$","$L7","2",{"className":"TagList_tag__225v4","href":"/tags/jekyll","children":"jekyll"}],["$","$L7","3",{"className":"TagList_tag__225v4","href":"/tags/i18n","children":"i18n"}]]}],"$undefined",["$","div",null,{"className":"post_content__KF6Q6","dangerouslySetInnerHTML":{"__html":"$9"}}]]}],["$","footer",null,{"children":["© Lucas Doyle ",2025]}]]}]
8:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Stonelinks"}],["$","meta","3",{"name":"description","content":"Personal website of Lucas Doyle"}],["$","link","4",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}],["$","meta","5",{"name":"next-size-adjust"}]]
1:null
